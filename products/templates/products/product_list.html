{% extends "base.html" %}
{% load static %}

{% block content %}
<h2>Our Products</h2>
<form method="get">
    <input type="text" name="q" placeholder="Search...">
    <select name="category">
        <option value="">All Categories</option>
        {% for cat in categories %}
            <option value="{{ cat.name }}">{{ cat.name }}</option>
        {% endfor %}
    </select>
    <button type="submit">Filter</button>
</form>

<div style="display: flex; flex-wrap: wrap; gap: 20px;">
    {% for product in products %}
    <div style="border: 1px solid #ccc; padding: 10px; width: 200px;">
        <img src="{{ product.image.url }}" width="100%">
        <h3>{{ product.name }}</h3>
        <p>â‚¹{{ product.price }}</p>
        <form method="POST" action="{% url 'add_to_cart' product.id %}">
            {% csrf_token %}
            <button type="submit">Add to Cart</button>
        </form>
    </div>
    {% endfor %}
</div>
{% endblock %}
