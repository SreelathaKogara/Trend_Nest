{% extends 'home/base.html' %}
{% load static %}

{% block content %}
<head>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>

<section class="py-16 bg-white">
  <div class="max-w-6xl mx-auto px-4">
    <h2 class="text-4xl font-bold text-center text-rose-700 mb-12">Kids' Collection</h2>

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
      {% for product in products %}
      <div class="border rounded-lg shadow-lg hover:shadow-2xl p-4 text-center transform hover:-translate-y-1 transition-all duration-300 bg-white">

        <div class="overflow-hidden rounded">
          <img src="{{ product.image.url }}" alt="{{ product.product_name }}"
               class="h-60 w-full object-cover transform hover:scale-110 transition duration-500">
        </div>

        <h3 class="font-semibold text-xl mt-4 text-gray-800">{{ product.name }}</h3>
        <p class="text-gray-600 mt-1 text-lg">₹{{ product.price }}</p>
        <p class="text-sm text-green-600 mt-1 font-medium">Save {{ product.discount }}% OFF</p>
        <p class="text-sm text-gray-700 mt-2 px-2">{{ product.desc }}</p>

        <div class="flex justify-center items-center mt-3 text-yellow-500 text-sm">
          {% for i in "12345" %}
            {% if forloop.counter <= product.rating %}
              ★
            {% else %}
              ☆
            {% endif %}
          {% endfor %}
          <span class="text-gray-600 ml-2">({{ product.reviews }} reviews)</span>
        </div>

        <div class="flex justify-between mt-4 space-x-2">
          <a href="#" class="flex-1 bg-rose-600 hover:bg-rose-700 text-white text-sm text-center py-2 rounded-lg">
            Order Now
          </a>

          <form method="POST" action="{% url 'cart:add_to_cart' %}">
            {% csrf_token %}
            <input type="hidden" name="product_id" value="{{ product.id }}">
            <button type="submit">Add to Cart</button>
          </form>

        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}

